
<div class="panel panel-default">
  
  <div class="panel-heading">Employee Directory</div>
  
  <div class="panel-body">

    <pre *ngIf="error" class="alert alert-danger">{{error}}</pre>

    <div class="people-search-container">
        <input type="text" placeholder="Search for..." (keyup)="search($event)" class="form-control" />
    </div>

    <div class="alpha-index">
      <p>Show employees by last initial.</p>
      <a *ngFor="let a of alpha" class="btn btn-sm btn-primary" [ngClass]="{'active': a == initial}" (click)="setInitial($event, a)">{{a}}</a>
    </div>

    <div *ngIf="person" class="person">

      <div>
        <img *ngIf="person.Picture != null" [src]="person.Picture.Url" [alt]="person.Name" />
        <h4>{{person.LastName}}, {{person.FirstName}}</h4>
      </div>
      <div><label>Job Title:</label> {{person.JobTitle}}</div>
      <div><label>Email:</label> <a [href]="'mailto:' + person.EMail">{{person.EMail}}</a></div>
      <div><label>Department:</label> {{person.Department}}</div>
      <div><label>Phone/Ext:</label> {{person.WorkPhone}}</div>
      <div><label>Office:</label> {{person.Office}}</div>

      <a class="btn btn-default btn-sm" (click)="showList()">&laquo; Back</a>
    </div>

    <div *ngIf="people && !person" class="table-responsive">

      <table class="table table-striped table-condensed">
        <thead>
          <tr><td>Showing {{people.length}} results.</td></tr>
          <tr>
            <th><span class="glyphicon glyphicon-eye-open"></span></th>
            <th>ID</th>
            <th>Name</th> 
            <th>Job Title</th>
            <th>Email</th>
            <th>Phone/Ext.</th> 
            <th>Department</th> 
            <th>Office</th>   
          </tr>  
        </thead>
        <tbody>
          <tr *ngFor="let p of people">
            <td><span class="glyphicon glyphicon-eye-open" (click)="showDetail(p)"></span></td>
            <td>{{p.Id}}</td>
            <td>{{p.LastName}}, {{p.FirstName}}</td>
            <td>{{p.JobTitle}}</td>
            <td><a [href]="'mailto:' + p.EMail">{{p.EMail}}</a></td>
            <td>{{p.WorkPhone}}</td>
            <td>{{p.Department}}</td>
            <td>{{p.Office}}</td>
          </tr>
        </tbody>
      </table>

    </div>

  </div>

</div>